{% extends "base.html" %}

{% block content %}

<style>
    .backbtn {
        float: right;
        margin: 5px;
    }
    th {
        text-align: center;
    }
    td {
        text-align: center;
    }
</style>

{% include "stocks/wallet_state.html" with wallet=wallet %}

<div class="backbtn">
    <a href={% url 'main' %} class="btn btn-primary btn-lg backbtn" role="button">Back</a>
</div>

<center>
    <br /><br/>
    {% for error in errors %}
    <p><font color="red">{{ error }}</font></p>
    {% endfor %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Stock</th>
                <th>Amount</th>
                <th>Price</th>
                <th>Operation</th>
            </tr>
        </thead>
        <tbody>
        {% for stock in stocks %}
            <tr>
                <td>{{ stock.stock.name }}</td>
                <td>{{ stock.stocks }}</td>
                <td>{{ price }}</td>
                <td>
                    <form method="post">
                        {% csrf_token %}
                        <input type="number" min="0" style="width: 20%" name="amount">
                        <input type="hidden" value="{{ price }}" name="price">
                        <input type="hidden" value="{{ stock.stock.name }}" name="stock_name">
                        <button class="btn btn-primary btn-md" role="button">Sell</button>
                    </form>
                </td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="5" align="center">No stocks to show</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</center>

{% endblock %}